<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <!--<link rel="stylesheet" href="css/style_base.css" type="text/css" />-->
</head>
<body>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type='text/javascript'>
    
        $(document).ready(function() {
            console.log("DOC READY");
            $('#public-insert-form').submit(function (e) {
                    console.log("PUBLIC SUBMIT", $('#public-insert-form').serialize());
                    e.preventDefault();
                    $.post('/publicInsert', $('#public-insert-form').serialize(), function (data) {
                        console.log("SENT POST");
                        alert('sent successful'); 
                    });
            });
            $('#admin-insert-form').submit(function (e) {
                    console.log("ADMIN SUBMIT", $('#admin-insert-form').serialize());
                    e.preventDefault();
                    $.post('/adminInsert', $('#admin-insert-form').serialize(), function (data) {
                        console.log("SENT POST");
                        alert('sent successful'); 
                    });
            });
            $('#remove-form').submit(function (e) {
                    console.log("FORM REMOVE", $('#remove-form').serialize());
                    e.preventDefault();
                    $.post('/adminRemove', $('#remove-form').serialize(), function (data) {
                        console.log("SENT POST");
                        alert('sent successful'); 
                    });
            });
            $('#get-list').click(function (e) {
                console.log("requesting admin data...");
                e.preventDefault();
                var req = new XMLHttpRequest();
                req.open('GET', '/adminList.json', true);
                req.addEventListener('load', function(e){
                        var content = req.responseText;
                        var data = JSON.parse(content);
                        console.log("DATA", data);
                        for(var s in data) {
                            $('#result-list').append(s.name);
                        }
                }, false);
                req.send();
            });
        });
    </script>
    <h1> PUBLIC Insert into DB: </h1>    
    <form id='public-insert-form'>
        Name: <input type='text' name='name'/>
        Location: <input type='text' name='location'/>
        URL: <input type='text' name='url'/>
        Desc: <input type='text' name='desc'/>
        Locations Active: <input type='text' name='locationsActive'/>
        Grabbers: <input type='text' name='grabbers'/>
        Resistance: <input type='text' name='resistance'/>
        Submitter: <input type='text' name='submitter'/>
        <input type='submit' value='send'/>
    </form>
    <h1> ADMIN Insert into DB: </h1>    
    <form id='admin-insert-form'>
        _id: <input type='text' name='_id'/>
        Name: <input type='text' name='name'/>
        Location: <input type='text' name='location'/>
        URL: <input type='text' name='url'/>
        Desc: <input type='text' name='desc'/>
        Locations Active: <input type='text' name='locationsActive'/>
        Grabbers: <input type='text' name='grabbers'/>
        Resistance: <input type='text' name='resistance'/>
        Submitter: <input type='text' name='submitter'/>
        <input type='submit' value='send'/>
    </form>
    <h1> Remove ID from DB </h1>
    <form id='remove-form'>
        <input type='text' name='_id'/>
    </form>
    <h1> Get all elements in the DB: admin </h1>
    <button id='get-list' type="button">Click to get admin list</button>
    <ul id='result-list' list-style=none max-height=100px overflow-y=scroll background=#eee padding=20px width=50%>
</body>
</html>
